{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Person","person","handleClick","name","number","onClick","Persons","persons","showAll","state","map","key","showFiltered","filter","toLowerCase","includes","Filter","searchState","handleSearch","value","onChange","PersonForm","addPerson","newName","newNumber","handleChange","handleNumChange","onSubmit","type","App","useState","setPersons","setNewName","setNewNumber","setNewSearch","setShowAll","notificationMessage","setNotificationMessage","errorMessage","setErrorMessage","Notification","message","className","Error","useEffect","personService","initialPersons","event","target","preventDefault","personObject","some","window","confirm","find","setTimeout","catch","error","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+OAEMA,EAAU,oCAmBD,EAjBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAGA,EAASC,SAe3B,EAZA,SAACC,GACd,OAAOL,IAAMM,KAAKP,EAASM,IAWd,EARA,SAACE,EAAIF,GAClB,OAAOL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBQ,GAAMF,IAOxB,EAJA,SAACE,GACd,OAAOP,IAAMS,OAAN,UAAgBV,EAAhB,YAA2BQ,KCd9BG,G,MAAS,SAAC,GAA2B,IAA1BC,EAAyB,EAAzBA,OAAQC,EAAiB,EAAjBA,YACvB,OAAQ,6BACR,+BAAKD,EAAOE,KAAZ,IAAmBF,EAAOG,OAC1B,4BAAQC,QAAS,kBAAMH,EAAYD,EAAO,CAACA,aAA3C,cAOIK,EAAU,SAAC,GAA4C,IAA3CC,EAA0C,EAA1CA,QAASC,EAAiC,EAAjCA,QAASC,EAAwB,EAAxBA,MAAOP,EAAiB,EAAjBA,YACzC,OAAQM,EAAUD,EAAQG,KAAI,SAAAT,GAAM,OAClC,kBAAC,EAAD,CAAQU,IAAOV,EAAOE,KAAMF,OAAUA,EAAQC,YAAaA,OACzDU,EAAa,CAACL,UAAUE,UAAQC,KAAI,SAAAT,GAAM,OAAK,kBAAC,EAAD,CAAQU,IAAOV,EAAOE,KAAMF,OAAUA,QAGrFW,EAAe,SAAC,GAAsB,IAArBL,EAAoB,EAApBA,QAASE,EAAW,EAAXA,MAC9B,OACEF,EAAQM,QAAO,SAAAZ,GAAM,OAAIA,EAAOE,KAAKW,cAAcC,SAASN,EAAMK,mBAIhEE,EAAS,SAAC,GAAiC,IAAhCC,EAA+B,EAA/BA,YAAaC,EAAkB,EAAlBA,aAC5B,OACE,6BACA,+CACE,2BAAOC,MAASF,EAChBG,SAAWF,OAOXG,EAAa,SAAC,GAAoE,IAAnEC,EAAkE,EAAlEA,UAAWC,EAAuD,EAAvDA,QAASC,EAA8C,EAA9CA,UAAWC,EAAmC,EAAnCA,aAAcC,EAAqB,EAArBA,gBAChE,OACE,0BAAMC,SAAWL,GACb,sCACQ,2BAAOH,MAASI,EAChBH,SAAYK,KAGpB,wCACU,2BAAON,MAASK,EAChBJ,SAAYM,KAGtB,6BACE,4BAASE,KAAK,UAAd,UA0IKC,EAlIH,WAAO,IAAD,EACeC,mBAAS,CAAC,KADzB,mBACRvB,EADQ,KACCwB,EADD,OAEgBD,mBAAS,IAFzB,mBAERP,EAFQ,KAECS,EAFD,OAGmBF,mBAAS,IAH5B,mBAGRN,EAHQ,KAGGS,EAHH,OAIsBH,mBAAS,IAJ/B,mBAIRb,EAJQ,KAIKiB,EAJL,OAKgBJ,oBAAS,GALzB,mBAKRtB,EALQ,KAKC2B,EALD,OAMwCL,mBAAS,MANjD,mBAMRM,EANQ,KAMaC,EANb,OAO0BP,mBAAS,MAPnC,mBAORQ,EAPQ,KAOMC,EAPN,KA0DZC,EAAe,SAAC,GAAe,IAAdC,EAAa,EAAbA,QACrB,OAAc,MAAXA,EACM,KAED,yBAAKC,UAAU,gBAAf,IAAgCD,EAAhC,MAGJE,EAAQ,SAAC,GAAe,IAAdF,EAAa,EAAbA,QACd,OAAc,MAAXA,EACM,KAED,yBAAKC,UAAU,SAAf,IAAyBD,EAAzB,MA0CR,OARFG,qBAAU,WACRC,IAECrD,MAAK,SAAAsD,GACJf,EAAWe,QAEb,IAGE,6BACE,yCACA,kBAACN,EAAD,CAAcC,QAASL,IACvB,kBAACO,EAAD,CAAOF,QAAWH,IAClB,kBAAC,EAAD,CAAQrB,YAAaA,EAAaC,aAtBnB,SAAC6B,GACpBb,EAAaa,EAAMC,OAAO7B,OAExBgB,EADiB,KAAhBlB,KAoBC,KACA,6BACA,kBAAC,EAAD,CAAYK,UA5GA,SAACyB,GACfA,EAAME,iBACN,IAAMC,EAAe,CACrB/C,KAAMoB,EACNnB,OAAQoB,GAGJjB,EAAQ4C,MAAK,SAAAlD,GAAM,OAAIA,EAAOE,OAAS+C,EAAa/C,SAClDiD,OAAOC,QAAP,UAAkBH,EAAa/C,KAA/B,2DACF0C,EAAqBtC,EAAQ+C,MAAK,SAAArD,GAAM,OAAGA,EAAOE,OAAS+C,EAAa/C,QAAMN,GAAIqD,GACjF1D,MAAK,SAAAC,GACJsC,EAAWxB,GACXsC,IAECrD,MAAK,SAAAsD,GACJf,EAAWe,GACXT,EAAuB,GAAD,OAAIa,EAAa/C,KAAjB,4BACtBoD,YAAW,WACTlB,EAAuB,QACtB,WAEJmB,OAAM,SAAAC,GAAK,OACZlB,EAAgB,gBAAD,OAAiBW,EAAa/C,KAA9B,wCAEfoD,YAAW,WACThB,EAAgB,QACf,KAELP,EAAW,IACXC,EAAa,KAEfD,EAAW,IACXC,EAAa,MAGXY,EAAqBK,GAAc1D,MAAK,SAAAC,GACtCsC,EAAWxB,EAAQmD,OAAOjE,EAASC,OACnC2C,EAAuB,GAAD,OAAIa,EAAa/C,KAAjB,4BACpBoD,YAAW,WACTlB,EAAuB,QACtB,QAEPL,EAAW,IACXC,EAAa,MAiEqBV,QAASA,EAASC,UAAWA,EAAWC,aAhC7D,SAACsB,GAClBf,EAAWe,EAAMC,OAAO7B,QA+BoFO,gBA5BxF,SAACqB,GACvBd,EAAac,EAAMC,OAAO7B,SA2BtB,MAEA,uCACA,6BACA,kBAAC,EAAD,CAASZ,QAASA,EAASC,QAAWA,EAASC,MAASQ,EAAaf,YAlDvD,SAAC,GAAc,IAAbD,EAAY,EAAZA,OAChBmD,OAAOC,QAAP,wBAAgCpD,EAAOE,KAAvC,OACF0C,EAAqB5C,EAAOJ,IAAIL,MAAK,SAAAC,GACnCsC,EAAWxB,GACXsC,IAECrD,MAAK,SAAAsD,GACJf,EAAWe,WA2Cb,QCjLNa,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.fbdb7074.chunk.js","sourcesContent":["import axios from  'axios' \r\n\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response=> response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { \r\n  getAll: getAll, \r\n  create: create, \r\n  update: update, \r\n  remove: remove\r\n}","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport './index.css'\n\nconst Person = ({person, handleClick}) => {   \n  return (<div>    \n  <p> {person.name} {person.number}   \n  <button onClick={() => handleClick(person={person})}>delete</button>\n  </p>  \n  </div>\n  )} \n\n\n\nconst Persons = ({persons, showAll, state, handleClick}) => {\n  return( showAll ? persons.map(person =>\n    <Person key = {person.name} person = {person} handleClick={handleClick} />)\n    : showFiltered({persons , state}).map(person =>  <Person key = {person.name} person = {person} />)\n    )}  \n\nconst showFiltered = ({persons, state}) => { \n  return(\n    persons.filter(person => person.name.toLowerCase().includes(state.toLowerCase()))\n  )\n}\n\nconst Filter = ({searchState, handleSearch}) => {  \n  return(\n    <div>\n    <p>Filter shown with \n      <input value = {searchState} \n      onChange= {handleSearch}\n      /> \n      </p>         \n  </div>\n  \n  )}\n\nconst PersonForm = ({addPerson, newName, newNumber, handleChange, handleNumChange}) => {\n  return(\n    <form onSubmit ={addPerson}>        \n        <div>\n          name: <input value = {newName}\n                onChange = {handleChange}\n                />\n        </div>\n        <div>        \n          number: <input value = {newNumber}\n                  onChange = {handleNumChange}\n                />      \n        </div>\n        <div>\n          <button  type=\"submit\">add</button>\n        </div>\n      </form>\n  )\n}\n\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([{}]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ searchState, setNewSearch ] = useState('')  \n  const [ showAll, setShowAll ] = useState(true)\n  const [ notificationMessage, setNotificationMessage ]  =useState(null)  \n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n\nconst addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n    name: newName,\n    number: newNumber\n    }\n\n    if (persons.some(person => person.name === personObject.name)) {\n      if (window.confirm(`${personObject.name} is already added to phonbebook, replace the number?`)) {\n        personService.update(persons.find(person=> person.name === personObject.name).id, personObject)\n        .then(response => {\n          setPersons(persons)\n          personService\n          .getAll()\n          .then(initialPersons => {\n            setPersons(initialPersons)\n            setNotificationMessage(`${personObject.name} was added to phonebook`)\n            setTimeout(() => {\n              setNotificationMessage(null)            \n            }, 5000)\n          }) \n        }).catch(error=> \n          setErrorMessage(`Person named ${personObject.name} was already removed from server`)\n          )\n          setTimeout(() => {\n            setErrorMessage(null)            \n          }, 5000)\n\n        setNewName('') \n        setNewNumber('')\n      }      \n      setNewName('') \n      setNewNumber('')\n    } \n      else {\n        personService.create(personObject).then(response => {\n          setPersons(persons.concat(response.data))\n          setNotificationMessage(`${personObject.name} was added to phonebook`)\n            setTimeout(() => {\n              setNotificationMessage(null)            \n            }, 5000)\n        })\n        setNewName('')\n        setNewNumber('') \n      }     \n     \n  }\n\nconst Notification = ({message}) => {\n  if(message == null) {\n    return null\n  }\n  return (<div className='notification'> {message} </div>)\n} \n\nconst Error = ({message}) => {\n  if(message == null) {\n    return null\n  }\n  return (<div className='error'> {message} </div>)\n}\n\nconst handleClick = ({person}) => {\n  if (window.confirm(`Really remove ${person.name}?`)) { \n    personService.remove(person.id).then(response => {     \n      setPersons(persons)\n      personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      }) \n  })\n  }     \n      \n  }\n\nconst handleChange = (event) => {    \n    setNewName(event.target.value)    \n}\n\nconst handleNumChange = (event) => {\n  setNewNumber(event.target.value)\n}\n\nconst handleSearch = (event) => {\n  setNewSearch(event.target.value)\n  if(searchState !== '') {\n    setShowAll(false)\n    } else {\n      setShowAll(true)\n    }  \n  }\n\nuseEffect(() => {\n  personService\n  .getAll()\n  .then(initialPersons => {\n    setPersons(initialPersons)\n  })    \n},[])\n  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} />\n      <Error message = {errorMessage} />\n      <Filter searchState={searchState} handleSearch = {handleSearch}> </Filter>     \n      <div>\n      <PersonForm addPerson = {addPerson} newName={newName} newNumber={newNumber} handleChange = {handleChange} handleNumChange={handleNumChange}> </PersonForm>\n      </div>     \n      <h2>Numbers</h2>\n      <div>\n      <Persons persons={persons} showAll = {showAll} state = {searchState} handleClick={handleClick}> </Persons>  \n      </div>\n        \n    </div>\n  )\n\n}\n\nexport default App\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}